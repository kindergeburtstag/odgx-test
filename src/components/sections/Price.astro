---
interface Props {
  title: string;
  plans: Array<{
    name: string;
    price: string;
    period?: string;
    features: string[];
    cta: { label: string; href: string };
    popular?: boolean;
  }>;
}

const { title, plans } = Astro.props;
---

<section class="bg-paper">
  <div class="max-w-6xl mx-auto px-4 md:px-6 lg:px-8 py-12 md:py-16">
    <h2 class="font-display text-3xl md:text-4xl font-bold text-ink tracking-tight text-center mb-12">
      {title}
    </h2>
    
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      {plans.map((plan) => (
        <div class={`relative bg-bg rounded-2xl p-8 shadow-sm hover:shadow-lg transition-shadow ${
          plan.popular ? 'ring-2 ring-accent' : ''
        }`}>
          {plan.popular && (
            <div class="absolute -top-3 left-1/2 transform -translate-x-1/2">
              <span class="bg-accent text-ink px-3 py-1 rounded-full text-sm font-semibold">
                Beliebt
              </span>
            </div>
          )}
          
          <div class="text-center mb-6">
            <h3 class="font-body text-xl font-semibold text-ink mb-2">
              {plan.name}
            </h3>
            <div class="font-display text-4xl font-bold text-ink">
              {plan.price}
              {plan.period && (
                <span class="text-lg text-muted font-normal">/{plan.period}</span>
              )}
            </div>
          </div>
          
          <ul class="space-y-3 mb-8">
            {plan.features.map((feature) => (
              <li class="flex items-start">
                <svg class="w-5 h-5 text-sage mr-3 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span class="font-body text-muted">{feature}</span>
              </li>
            ))}
          </ul>
          
          <a
            href={plan.cta.href}
            class={`block text-center px-6 py-3 rounded-lg font-semibold transition-colors ${
              plan.popular
                ? 'bg-accent hover:bg-accent/90 text-ink'
                : 'border-2 border-accent hover:bg-accent hover:text-ink text-accent'
            }`}
          >
            {plan.cta.label}
          </a>
        </div>
      ))}
    </div>
  </div>
</section>